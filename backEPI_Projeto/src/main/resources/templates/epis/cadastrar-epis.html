<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de EPI</title>
     <link rel="stylesheet" th href="@{/css/cadastro-epi.css}">
    <link rel="stylesheet" href="@{/css/pagina-inicial1.css}">
    
</head>

<body>

<nav class="navbar">
    <img class="security" th:src="@{/imagem/security.png}" alt="">
    <button class="login-btn">
        <a th:href="@{/gerenciadores}"><i class="fas fa-user">Voltar</i></a>
    </button>
</nav>

<div class="b">
    <div class="form-container">
        <form id="formCadastro" action="/epis" method="post" novalidate>
            <h2>Cadastro de EPI</h2>

            <label for="nome">Nome do EPI:</label>
            <input type="text" id="nome" name="nome" required>
            <div id="errorNome" class="error-message">Por favor, preencha o nome do EPI.</div>

            <label for="quantidade">Quantidade:</label>
            <input type="number" id="quantidade" name="quantidade" required min="1" step="1">
            <div id="errorQuantidade" class="error-message">Por favor, informe uma quantidade válida (maior que 0).</div>

            <button type="submit">Cadastrar</button>
        </form>
    </div>
</div>

<script>
    const form = document.getElementById('formCadastro');
    const nome = document.getElementById('nome');
    const quantidade = document.getElementById('quantidade');
    const errorNome = document.getElementById('errorNome');
    const errorQuantidade = document.getElementById('errorQuantidade');

    form.addEventListener('submit', function(event) {
        let valid = true;

        // Valida nome
        if (nome.value.trim() === '') {
            errorNome.style.display = 'block';
            valid = false;
        } else {
            errorNome.style.display = 'none';
        }

        // Valida quantidade (deve ser número > 0)
        if (quantidade.value.trim() === '' || isNaN(quantidade.value) || Number(quantidade.value) < 1) {
            errorQuantidade.style.display = 'block';
            valid = false;
        } else {
            errorQuantidade.style.display = 'none';
        }

        if (!valid) {
            event.preventDefault(); // evita envio do form
        }
    });
</script>

</body>
</html>
